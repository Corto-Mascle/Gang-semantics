\begin{tikzpicture}
	
	\draw[dotted] (0,0) -- (4,0);
	\draw[dotted] (0,0.5) -- (4,0.5);
	\draw[dotted] (0,1) -- (4,1);
	\draw[dotted] (0,1.5) -- (4,1.5);
	\draw[dotted] (0,2) -- (4,2);
	\draw[dotted] (0,2.5) -- (4,2.5);
	\draw[dotted] (0,3) -- (4,3);
	
	\node at (-0.2,0) {$0$};
	\node at (-0.2,0.5) {$1$};
	\node at (-0.2,1) {$2$};
	\node at (-0.2,1.5) {$3$};
	\node at (-0.2,2) {$4$};
	\node at (-0.2,2.5) {$5$};
	\node at (-0.2,3) {$6$};
	
	\draw[very thick] (0.4,0) -- (0.6, 0.5) -- (0.8, 1) -- (1, 0.5) -- (1.2, 1) -- (1.3, 1.5) -- (1.7, 2) -- (1.8, 1.5) -- (2.1, 1) -- (2.3, 1.5) -- (2.4, 2) -- (2.8, 2.5);
	\draw (1, 0.5) -- (1.4, 0) -- (1.6, 0.5) -- (2.4, 1) -- (2.6, 1.5);
	\draw (1.6, 0.5) -- (2.2, 0) -- (2.5, 0.5);
	\draw (0.8, 1) -- (0.7, 1.5) -- (0.4, 1) -- (0.5, 1.5);
	\draw (0.7, 1.5) -- (0.9, 1) -- (1.1, 1.5) -- (0.8, 2);
	\draw (2.4, 2) -- (2.1, 1.5) -- (1.9, 2) -- (1.6, 2.5);
	\draw (2.4, 2) -- (2.1, 1.5) -- (1.9, 2) -- (1.6, 2.5);
	\draw (2.4, 2) -- (2.1, 1.5) -- (1.9, 2) -- (1.6, 2.5);
	\draw (1.9, 2) -- (2.2, 2.5);
	\draw (2.4, 2) -- (3, 1.5);
	\draw (1.9, 2) -- (2.2, 2.5);
	\draw (0.4, 0) -- (0.3, 0.5);
	
	\draw[->, >=triangle 45] (4.2, 0) -- (4.2, 3);
	
	
	\node (H) at (4.5, 3) {$\mathbf{alt}$};
	
	\draw[->] (0.4, -0.1) -- (0.8, -0.5);
	
	\node (R) at (2,-0.5) {root ($\mathbf{alt} =0$)};
	\node (AM) at (3,2.7) {$\altmax$};
	\draw[red, fill=red] (0.4, 0) circle (0.05);
	\draw[red, fill=red] (0.6, 0.5) circle (0.05);
	\draw[red, fill=red] (0.8, 1) circle (0.05);
	\draw[red, fill=red] (1.3, 1.5) circle (0.05);
	\draw[red, fill=red] (1.7, 2) circle (0.05);
	\draw[red, fill=red] (2.8, 2.5) circle (0.05);
	
	
	\node[red] at (0.7, 0.1) {\small $w_0$};
	\node[red] at (0.3, 0.6) {\small $w_1$};
	\node[red] at (0.5, 0.8) {\small $w_2$};
	\node[red] at (1.5, 1.3) {\small $w_3$};
	\node[red] at (1.3, 1.9) {\small $w_4$};
	\node[red] at (2.9, 2.3) {\small $w_5$};
	
	\node (txt) at (9.3, 2.7) {We consider a branch reaching $\altmax$. For all $i$,};
	\node (txt) at (9, 2.2) {let $w_i = \followlabelword{\node_i}\#\followlabelmessage{\node_i}$ where $\node_i$ is the first};
	\node (txt) at (7.6, 1.7) {"follower node" at altitude $i$.};
	
	\node (txt) at (9.8, 1) {Lemma~\ref{lem:bound-length-at-height-h} bounds the size of $w_i$ by $f_0(\altmax-i+1)$, };
	\node (txt) at (9.75, 0.5) {which allows us to bound the number of red dots using};
	\node (txt) at (8.95, 0) {Lemma~\ref{lem:shortening-branches} and the "Length function theorem".};
\end{tikzpicture}