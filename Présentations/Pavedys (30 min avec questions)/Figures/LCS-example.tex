\begin{tikzpicture}[xscale=0.5,node distance=2.1cm,auto, AUT style,>= triangle
	45]
	\tikzstyle{initial}= [initial by arrow,initial text=,initial
	distance=.7cm]
	%	\tikzstyle{accepting}= [accepting by arrow,accepting text=,accepting
	%	distance=.7cm,accepting where =right]
	
	
	\onslide<10> {\draw[fill=gray!20] (-1.5, -3) rectangle (9.5, 2);
		\node (d) at (4,2.25) {Reachable states};
	}
	
	
	\node[state, initial, minimum width=0.1pt] (0) at (0,0) {};
	\node[state] [right of=0] (x) {};
	\node[state] [right of=x] (y) {};
	\node[state] [right of=y] (z) {};
	\node[state] [below of=x] (t) {};
	
	
	%	\path[->, bend left=10] 	
	%	(y) edge node[above] {$\mathbf{br}(b)$} (x)
	%	;
	
	\onslide<1,4-10>{\path[loop above] (0) edge node[above] {$w(a)$} (0);}
	\onslide<2-3>{\path[loop above,thick, color=RealGreen] (0) edge node[above] {\color{RealGreen}\textbf{$w(a)$}} (0);}
	
	\onslide<1-8,10>{\path[->] (x) edge node[above] {$r(b)$} (y);}
	\onslide<9>{\path[->, thick, color=RealGreen] (x) edge node[above] {\color{RealGreen}\textbf{$r(b)$}} (y);}
	
	\onslide<1-3,5-10>{\path[->] (0) edge node[above] {$w(c)$} (x);}
	\onslide<4>{\path[->, thick, color=red!50] (0) edge node[above] {\color{red!50}\textbf{$w(c)$}} (x);}
	
	\path[->] (y) edge node[above] {$r(a)$} (z);
	
	
	\onslide<1-4,6,8-10>{\path[->, bend left] (x) edge node[right] {$r(a)$} (t);}
	\onslide<5,7>{\path[->, bend left,thick, color=RealGreen] (x) edge node[right] {\color{RealGreen}\textbf{$r(a)$}} (t);}
	
	\onslide<1-5,7,9-10>{\path[->, bend left] (t) edge node[left] {$w(b)$} (x);}
	\onslide<6>{\path[->, bend left,thick, color=red!50] (t) edge node[left] {\color{red!50}\textbf{$w(b)$}} (x);}
	\onslide<8>{\path[->, bend left,thick, color=RealGreen] (t) edge node[left] {\color{RealGreen}\textbf{$w(b)$}} (x);}
	
	
	
	\onslide<3-4>
	{
	\draw (16,0) rectangle (18,0.5);
	\node at (17,0.25) {$a$};
}
	\onslide<2-6,8>
	{
	\draw (16,0.5) rectangle (18,1);
}
\onslide<2-6>
{
	\node at (17, 0.75) {$a$};
}
\onslide<8>
{
	\node at (17, 0.75) {$b$};
}


\onslide<1-3>
{
	\draw[fill=black] (0,0) ellipse (0.25 and 0.125);
}

\onslide<4,6,8>
{
	\draw[fill=black] (4.2,0) ellipse (0.25 and 0.125);
}

\onslide<5,7>
{
	\draw[fill=black] (4.2,-2.1) ellipse (0.25 and 0.125);
}

\onslide<9>
{
	\draw[fill=black] (8.4,0) ellipse (0.25 and 0.125);
}

\draw (16,-0.5) -- (16, 1.25);
\draw (18,-0.5) -- (18, 1.25);

\draw[->] (17, -0.4) -- (17, -0.6);
\draw[->] (17, 1.4) -- (17, 1.2);


\end{tikzpicture}